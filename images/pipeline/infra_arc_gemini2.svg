<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1400 1050" style="font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;">
  <defs>
    <!-- 阴影滤镜 -->
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000000" flood-opacity="0.1"/>
    </filter>
    <!-- 箭头标记: 实心 -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#64748b"/>
    </marker>
    <!-- 箭头标记: 黑色实心 (用于Workflow) -->
    <marker id="arrowhead-black" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#1e293b"/>
    </marker>
    <!-- 箭头标记: 虚线末端 -->
    <marker id="arrowhead-dashed" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#94a3b8"/>
    </marker>
  </defs>

  <!-- 背景 -->
  <rect width="1400" height="1050" fill="#ffffff"/>

  <!-- =========================================
       第一层：AI应用 (Applications)
       ========================================= -->
  <g transform="translate(50, 30)">
    <!-- 外虚线框 -->
    <rect x="0" y="0" width="1300" height="90" rx="10" fill="#fdf4ff" stroke="#e879f9" stroke-width="1.5" stroke-dasharray="6,6"/>
    
    <!-- 标题 -->
    <text x="30" y="50" font-weight="bold" font-size="18" fill="#333">AI应用 (Applications)</text>
    
    <!-- 胶囊按钮组 -->
    <g transform="translate(250, 20)">
      <!-- Item 1 -->
      <g transform="translate(0, 0)">
        <rect x="0" y="0" width="160" height="50" rx="25" fill="#f0abfc" fill-opacity="0.2" stroke="#d946ef" stroke-width="1.5"/>
        <text x="80" y="20" text-anchor="middle" font-size="12" fill="#333">LLM/Agentic</text>
        <text x="80" y="38" text-anchor="middle" font-size="12" fill="#333">Workflow</text>
      </g>

      <!-- Item 2 -->
      <g transform="translate(180, 0)">
        <rect x="0" y="0" width="140" height="50" rx="25" fill="#f0abfc" fill-opacity="0.2" stroke="#d946ef" stroke-width="1.5"/>
        <text x="70" y="30" text-anchor="middle" font-size="13" fill="#333">金融投研Agent</text>
      </g>

      <!-- Item 3 -->
      <g transform="translate(340, 0)">
        <rect x="0" y="0" width="140" height="50" rx="25" fill="#f0abfc" fill-opacity="0.2" stroke="#d946ef" stroke-width="1.5"/>
        <text x="70" y="30" text-anchor="middle" font-size="13" fill="#333">保险理赔Agent</text>
      </g>

      <!-- Item 4 -->
      <g transform="translate(500, 0)">
        <rect x="0" y="0" width="120" height="50" rx="25" fill="#f0abfc" fill-opacity="0.2" stroke="#d946ef" stroke-width="1.5"/>
        <text x="60" y="30" text-anchor="middle" font-size="13" fill="#333">RAG问答</text>
      </g>

      <!-- Item 5 -->
      <g transform="translate(640, 0)">
        <rect x="0" y="0" width="120" height="50" rx="25" fill="#f0abfc" fill-opacity="0.2" stroke="#d946ef" stroke-width="1.5"/>
        <text x="60" y="30" text-anchor="middle" font-size="13" fill="#333">企业知识库</text>
      </g>

      <text x="800" y="35" font-size="24" fill="#666" font-weight="bold">......</text>
    </g>

    <!-- 右侧虚线连接 (Visual Guide) -->
     <path d="M 1300,45 L 1320,45 L 1320,350" fill="none" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="4,4"/>
  </g>

  <!-- =========================================
       第二层：主要处理流程 (Main Pipeline)
       定义中心坐标：
       Source: 105 (x=50, w=110)
       Types:  230 (x=180, w=100)
       Prepro: 385 (x=320, w=130)
       Parse:  560 (x=490, w=140)
       JSON:   690 (Center of gap)
       Chunk:  815 (x=750, w=130)
       Embed:  1020 (x=920, w=200)
       Dest:   1230 (x=1160, w=140)
       ========================================= -->
  <g transform="translate(0, 160)">
    
    <!-- 1. 数据源 (Sources) -->
    <g transform="translate(50, 0)">
      <text x="55" y="-10" text-anchor="middle" font-size="14" font-weight="bold" fill="#333">数据源 (Sources)</text>
      <rect x="0" y="0" width="110" height="360" rx="4" fill="#f1f5f9" stroke="#cbd5e1" stroke-width="2" filter="url(#shadow)"/>
      <g transform="translate(15, 35)" font-size="13" fill="#475569" style="line-height: 1.8;">
        <text y="0">AWS S3</text>
        <text y="30">MinIO</text>
        <text y="60">阿里云OSS</text>
        <text y="90">腾讯云COS</text>
        <text y="120">华为云OBS</text>
        <text y="150">火山引擎</text>
        <text y="170" font-size="11">(VeCloud)</text>
        <text y="200">SMB</text>
        <text y="230">FTP</text>
        <text y="260">本地文件</text>
        <text y="290">...</text>
      </g>
    </g>

    <!-- 2. 多种文件类型 -->
    <g transform="translate(180, 0)">
      <text x="50" y="-10" text-anchor="middle" font-size="14" font-weight="bold" fill="#333">多种文件类型</text>
      <rect x="0" y="0" width="100" height="360" rx="4" fill="none" stroke="#94a3b8" stroke-width="2" stroke-dasharray="5,5"/>
      <g transform="translate(10, 25)">
        <rect y="0" width="80" height="40" rx="20" fill="#e2e8f0" stroke="#94a3b8"/>
        <text x="40" y="25" text-anchor="middle" font-size="12">PDF</text>
        
        <rect y="55" width="80" height="40" rx="20" fill="#e2e8f0" stroke="#94a3b8"/>
        <text x="40" y="80" text-anchor="middle" font-size="11">PPT/PPTX</text>
        
        <rect y="110" width="80" height="40" rx="20" fill="#e2e8f0" stroke="#94a3b8"/>
        <text x="40" y="135" text-anchor="middle" font-size="12">HTML</text>
        
        <rect y="165" width="80" height="40" rx="20" fill="#e2e8f0" stroke="#94a3b8"/>
        <text x="40" y="190" text-anchor="middle" font-size="11">JPEG/PNG</text>
        
        <rect y="220" width="80" height="40" rx="20" fill="#e2e8f0" stroke="#94a3b8"/>
        <text x="40" y="245" text-anchor="middle" font-size="11">XLS/CSV</text>

        <text x="40" y="290" text-anchor="middle" fill="#666">...</text>
      </g>
    </g>

    <!-- Arrow 1-2 (Pass through) -->
    <line x1="280" y1="180" x2="315" y2="180" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- 3. 预处理 (Preprocess) -->
    <g transform="translate(320, 0)">
      <text x="65" y="-10" text-anchor="middle" font-size="14" font-weight="bold" fill="#333">预处理 (Preprocess)</text>
      <rect x="0" y="0" width="130" height="360" rx="4" fill="none" stroke="#94a3b8" stroke-width="2" stroke-dasharray="5,5"/>
      <g transform="translate(15, 80)">
        <rect y="0" width="100" height="40" rx="5" fill="#ffffff" stroke="#cbd5e1" filter="url(#shadow)"/>
        <text x="50" y="25" text-anchor="middle" font-size="13">去水印</text>

        <rect y="60" width="100" height="40" rx="5" fill="#ffffff" stroke="#cbd5e1" filter="url(#shadow)"/>
        <text x="50" y="85" text-anchor="middle" font-size="13">去手写</text>

        <rect y="120" width="100" height="40" rx="5" fill="#ffffff" stroke="#cbd5e1" filter="url(#shadow)"/>
        <text x="50" y="145" text-anchor="middle" font-size="13">切边增强</text>
        
        <text x="50" y="190" text-anchor="middle" fill="#666">......</text>
      </g>
    </g>

    <!-- Arrow 3-4 -->
    <line x1="450" y1="180" x2="485" y2="180" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- 4. 解析 (Parse) -->
    <g transform="translate(490, 0)">
      <text x="70" y="-10" text-anchor="middle" font-size="14" font-weight="bold" fill="#333">解析 (Parse)</text>
      <rect x="0" y="0" width="140" height="360" rx="4" fill="#eff6ff" stroke="#93c5fd" stroke-width="2" filter="url(#shadow)"/>
      <g transform="translate(15, 25)">
        <rect y="0" width="110" height="40" rx="5" fill="#ffffff" stroke="#bfdbfe"/>
        <text x="55" y="25" text-anchor="middle" font-size="12">TextInOCR</text>

        <rect y="55" width="110" height="40" rx="5" fill="#ffffff" stroke="#bfdbfe"/>
        <text x="55" y="80" text-anchor="middle" font-size="12">TextInOCR-Lite</text>

        <rect y="110" width="110" height="40" rx="5" fill="#ffffff" stroke="#bfdbfe"/>
        <text x="55" y="135" text-anchor="middle" font-size="12">TextInOCR-Table</text>

        <rect y="165" width="110" height="40" rx="5" fill="#ffffff" stroke="#bfdbfe"/>
        <text x="55" y="190" text-anchor="middle" font-size="12">MinerU</text>

        <rect y="220" width="110" height="40" rx="5" fill="#ffffff" stroke="#bfdbfe"/>
        <text x="55" y="245" text-anchor="middle" font-size="12">PaddleOCR</text>

        <text x="55" y="290" text-anchor="middle" fill="#666">......</text>
      </g>
    </g>

    <!-- Arrow 4-JSON -->
    <line x1="630" y1="180" x2="645" y2="180" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- 5. JSON Markdown Node -->
    <g transform="translate(650, 150)">
        <polygon points="0,0 80,0 70,60 -10,60" fill="#dcfce7" stroke="#86efac" stroke-width="2" transform="translate(10,0)"/>
        <text x="50" y="25" text-anchor="middle" font-size="12" font-weight="bold" fill="#166534">JSON</text>
        <text x="50" y="45" text-anchor="middle" font-size="11" font-weight="bold" fill="#166534">Markdown</text>
    </g>

    <!-- Arrow JSON-Chunk -->
    <line x1="740" y1="180" x2="745" y2="180" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- 6. 分块 (Chunk) -->
    <g transform="translate(750, 0)">
      <text x="65" y="-10" text-anchor="middle" font-size="14" font-weight="bold" fill="#333">分块 (Chunk)</text>
      <rect x="0" y="0" width="130" height="360" rx="4" fill="none" stroke="#94a3b8" stroke-width="2" stroke-dasharray="5,5"/>
      <g transform="translate(15, 50)">
        <rect y="0" width="100" height="40" rx="5" fill="#f8fafc" stroke="#cbd5e1" filter="url(#shadow)"/>
        <text x="50" y="25" text-anchor="middle" font-size="12">basic</text>

        <rect y="60" width="100" height="40" rx="5" fill="#f8fafc" stroke="#cbd5e1" filter="url(#shadow)"/>
        <text x="50" y="85" text-anchor="middle" font-size="12">by title</text>
        
        <text x="50" y="120" text-anchor="middle" fill="#666">...</text>

        <rect y="140" width="100" height="40" rx="5" fill="#f8fafc" stroke="#cbd5e1" filter="url(#shadow)"/>
        <text x="50" y="165" text-anchor="middle" font-size="12">by page</text>

        <rect y="200" width="100" height="40" rx="5" fill="#f8fafc" stroke="#cbd5e1" filter="url(#shadow)"/>
        <text x="50" y="225" text-anchor="middle" font-size="12">by similarity</text>

        <text x="50" y="270" text-anchor="middle" fill="#666">......</text>
      </g>
    </g>

    <!-- Arrow Chunk-Embed -->
    <line x1="880" y1="180" x2="915" y2="180" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- 7. 嵌入 (Embed) -->
    <g transform="translate(920, 0)">
      <text x="100" y="-10" text-anchor="middle" font-size="14" font-weight="bold" fill="#333">嵌入 (Embed)</text>
      <rect x="0" y="0" width="200" height="360" rx="4" fill="none" stroke="#94a3b8" stroke-width="2" stroke-dasharray="5,5"/>
      
      <!-- Qwen Box -->
      <g transform="translate(27, 60)">
        <rect width="145" height="100" rx="5" fill="#f1f5f9" stroke="#94a3b8"/>
        <text x="72.5" y="25" text-anchor="middle" font-weight="bold" font-size="13">Qwen</text>
        <text x="72.5" y="50" text-anchor="middle" font-size="11" fill="#475569">text-embedding-v3</text>
        <text x="72.5" y="70" text-anchor="middle" font-size="11" fill="#475569">text-embedding-v4</text>
      </g>

      <!-- Doubao Box -->
      <g transform="translate(27, 185)">
        <rect width="145" height="100" rx="5" fill="#f1f5f9" stroke="#94a3b8"/>
        <text x="72.5" y="20" text-anchor="middle" font-weight="bold" font-size="13">Doubao</text>
        <text x="72.5" y="40" text-anchor="middle" font-size="10" fill="#475569">doubao-embedding-large-</text>
        <text x="72.5" y="55" text-anchor="middle" font-size="10" fill="#475569">text-250515</text>
        <text x="72.5" y="75" text-anchor="middle" font-size="10" fill="#475569">doubao-embedding-</text>
        <text x="72.5" y="90" text-anchor="middle" font-size="10" fill="#475569">text-240715</text>
      </g>

       <text x="100" y="325" text-anchor="middle" fill="#666">......</text>
    </g>

    <!-- Arrow Embed-Dest -->
    <line x1="1120" y1="180" x2="1155" y2="180" stroke="#64748b" stroke-width="2" marker-end="url(#arrowhead)"/>

    <!-- 8. 目的地 (Destinations) -->
    <g transform="translate(1160, 0)">
      <text x="70" y="-10" text-anchor="middle" font-size="14" font-weight="bold" fill="#333">目的地 (Destinations)</text>
      <rect x="0" y="0" width="140" height="360" rx="4" fill="#f1f5f9" stroke="#cbd5e1" stroke-width="2" filter="url(#shadow)"/>
      <g transform="translate(20, 60)" font-size="13" fill="#475569" style="line-height: 2;">
        <text y="0">Milvus</text>
        <text y="30">Zilliz Cloud</text>
        <text y="60">Pinecone</text>
        <text y="90">weaviate</text>
        <text y="120">AWS</text>
        <text y="150">本地文件系统</text>
        <text y="200">......</text>
      </g>
    </g>

  </g> 
  <!-- End Main Pipeline -->


  <!-- =========================================
       第三层：xParse Workflow (Blue Box)
       Center Y: 670
       ========================================= -->
  <g transform="translate(50, 580)">
    <!-- Container Box -->
    <rect x="0" y="0" width="1300" height="185" rx="8" fill="#eff6ff" stroke="#1e293b" stroke-width="2"/>
    <text x="200" y="145" font-size="16" font-weight="bold" fill="#333">xParse Workflow</text>

    <!-- Vertical Center for Nodes: y = 90 inside group -->
    <g transform="translate(0, 90)">
      
      <!-- Node 1: Source (Aligns with x=105 globally, inside here x=55) -->
      <!-- Global x=105. Group start x=50. So local x=55. -->
      <g transform="translate(55, 0)">
        <circle cx="0" cy="0" r="38" fill="#fef3c7" stroke="#000" stroke-width="1.5"/>
        <text x="0" y="-5" text-anchor="middle" font-size="13" font-weight="bold">Source</text>
        <text x="0" y="10" text-anchor="middle" font-size="13" font-weight="bold">node</text>
        <!-- Vertical dashed line UP -->
        <line x1="0" y1="-40" x2="0" y2="-55" stroke="#000" stroke-width="1.5" stroke-dasharray="4,4" marker-end="url(#arrowhead-dashed)"/>
      </g>

      <!-- Arrow 1 -> 2 -->
      <line x1="93" y1="0" x2="280" y2="0" stroke="#000" stroke-width="1.5" marker-end="url(#arrowhead-black)"/>

      <!-- Node 2: Preprocess (Aligns with Preprocess Col x=385. Local x=335) -->
      <g transform="translate(335, 0)">
        <circle cx="0" cy="0" r="50" fill="#fef3c7" stroke="#000" stroke-width="1.5" stroke-dasharray="4,2"/>
        <text x="0" y="-5" text-anchor="middle" font-size="13" font-weight="bold">Preprocess</text>
        <text x="0" y="10" text-anchor="middle" font-size="13" font-weight="bold">node</text>
        <!-- Vertical dashed line UP -->
        <line x1="0" y1="-52" x2="0" y2="-200" stroke="#000" stroke-width="1.5" stroke-dasharray="4,4" marker-end="url(#arrowhead-dashed)"/>
      </g>

      <!-- Arrow 2 -> 3 -->
      <line x1="387" y1="0" x2="460" y2="0" stroke="#000" stroke-width="1.5" marker-end="url(#arrowhead-black)"/>

      <!-- Node 3: Parse (Aligns with Parse Col x=560. Local x=510) -->
      <g transform="translate(510, 0)">
        <circle cx="0" cy="0" r="38" fill="#fef3c7" stroke="#000" stroke-width="1.5"/>
        <text x="0" y="-5" text-anchor="middle" font-size="13" font-weight="bold">Parse</text>
        <text x="0" y="10" text-anchor="middle" font-size="13" font-weight="bold">node</text>
        <!-- Vertical dashed line UP -->
        <line x1="0" y1="-40" x2="0" y2="-55" stroke="#000" stroke-width="1.5" stroke-dasharray="4,4" marker-end="url(#arrowhead-dashed)"/>
      </g>

      <!-- Dashed Arrow 3 -> 4 -->
      <line x1="550" y1="0" x2="720" y2="0" stroke="#000" stroke-width="1.5" stroke-dasharray="4,4" marker-end="url(#arrowhead-black)"/>

      <!-- Node 4: Chunk (Aligns with Chunk Col x=815. Local x=765) -->
      <g transform="translate(765, 0)">
        <circle cx="0" cy="0" r="38" fill="#fef3c7" stroke="#000" stroke-width="1.5" stroke-dasharray="4,2"/>
        <text x="0" y="-5" text-anchor="middle" font-size="13" font-weight="bold">Chunk</text>
        <text x="0" y="10" text-anchor="middle" font-size="13" font-weight="bold">node</text>
        <!-- Vertical dashed line UP (Very short) -->
        <line x1="0" y1="-40" x2="0" y2="-55" stroke="#000" stroke-width="1.5" stroke-dasharray="4,4" marker-end="url(#arrowhead-dashed)"/>
      </g>

      <!-- Dashed Arrow 4 -> 5 -->
      <line x1="805" y1="0" x2="930" y2="0" stroke="#000" stroke-width="1.5" stroke-dasharray="4,4" marker-end="url(#arrowhead-black)"/>

      <!-- Node 5: Embed (Aligns with Embed Col x=1020. Local x=970) -->
      <g transform="translate(970, 0)">
        <circle cx="0" cy="0" r="38" fill="#fef3c7" stroke="#000" stroke-width="1.5" stroke-dasharray="4,2"/>
        <text x="0" y="-5" text-anchor="middle" font-size="13" font-weight="bold">Embed</text>
        <text x="0" y="10" text-anchor="middle" font-size="13" font-weight="bold">node</text>
        <!-- Vertical dashed line UP -->
        <line x1="0" y1="-40" x2="0" y2="-55" stroke="#000" stroke-width="1.5" stroke-dasharray="4,4" marker-end="url(#arrowhead-dashed)"/>
      </g>

      <!-- Dashed Arrow 5 -> 6 -->
      <line x1="1010" y1="0" x2="1130" y2="0" stroke="#000" stroke-width="1.5" stroke-dasharray="4,4" marker-end="url(#arrowhead-black)"/>

      <!-- Node 6: Destination (Aligns with Dest Col x=1230. Local x=1180) -->
      <g transform="translate(1180, 0)">
        <circle cx="0" cy="0" r="45" fill="#fef3c7" stroke="#000" stroke-width="1.5"/>
        <text x="0" y="-5" text-anchor="middle" font-size="12" font-weight="bold">Destination</text>
        <text x="0" y="10" text-anchor="middle" font-size="12" font-weight="bold">node</text>
        <!-- Vertical dashed line UP -->
        <line x1="0" y1="-45" x2="0" y2="-55" stroke="#000" stroke-width="1.5" stroke-dasharray="4,4" marker-end="url(#arrowhead-dashed)"/>
      </g>

      <!-- LONG ARROW: Parse -> Destination (Underneath) -->
      <!-- Start: Parse Node (510, 40) -->
      <!-- End: Destination Node (1180, 45) -->
      <!-- Path: Down -> Right -> Up -->
      <path d="M 510,40 L 510,70 L 1180,70 L 1180,52" fill="none" stroke="#333" stroke-width="1.5" marker-end="url(#arrowhead-black)"/>

    </g>
  </g>

  <!-- Global Dashed Arrow: JSON Markdown UP -->
  <!-- JSON Center x=690 -->
  <line x1="690" y1="300" x2="690" y2="130" stroke="#000" stroke-width="1.5" stroke-dasharray="4,4" marker-end="url(#arrowhead-dashed)"/>

  <!-- Global Dashed Arrow: Workflow DOWN to Tools -->
  <line x1="690" y1="765" x2="690" y2="840" stroke="#000" stroke-width="1.5" stroke-dasharray="4,4" marker-end="url(#arrowhead-black)"/>
  
  <!-- Right Side Return Arrow (Dotted line on far right) -->
  <path d="M 1320,350 L 1335,350 L 1335,45 L 1320,45" fill="none" stroke="#94a3b8" stroke-width="1.5" stroke-dasharray="4,4" marker-end="url(#arrowhead-dashed)"/>


  <!-- =========================================
       第四层：基础工具 (Tools)
       ========================================= -->
  <g transform="translate(50, 850)">
    <rect x="0" y="0" width="1300" height="130" rx="8" fill="#f8fafc" stroke="#1e293b" stroke-width="2"/>
    <text x="55" y="70" font-size="16" font-weight="bold" fill="#333">基础工具 (Tools)</text>

    <g transform="translate(220, 40)">
      <!-- Item 1 -->
      <g transform="translate(0, 0)">
        <rect x="0" y="0" width="180" height="60" rx="30" fill="#ffe4e6" stroke="#000" stroke-width="1.5"/>
        <text x="90" y="35" text-anchor="middle" font-size="14" fill="#333">可视化 (Visualizer)</text>
      </g>

      <!-- Item 2 -->
      <g transform="translate(220, 0)">
        <rect x="0" y="0" width="180" height="60" rx="30" fill="#ffe4e6" stroke="#000" stroke-width="1.5"/>
        <text x="90" y="35" text-anchor="middle" font-size="14" fill="#333">回溯与审计 (HITL)</text>
      </g>

      <!-- Item 3 -->
      <g transform="translate(440, 0)">
        <rect x="0" y="0" width="180" height="60" rx="30" fill="#ffe4e6" stroke="#000" stroke-width="1.5"/>
        <text x="90" y="35" text-anchor="middle" font-size="14" fill="#333">评测 (Evals)</text>
      </g>

      <!-- Item 4 -->
      <g transform="translate(660, 0)">
        <rect x="0" y="0" width="180" height="60" rx="30" fill="#ffe4e6" stroke="#000" stroke-width="1.5"/>
        <text x="90" y="35" text-anchor="middle" font-size="14" fill="#333">开源 (SDK)</text>
      </g>

      <text x="900" y="40" font-size="30" font-weight="bold" fill="#333">......</text>
    </g>
  </g>

</svg>
