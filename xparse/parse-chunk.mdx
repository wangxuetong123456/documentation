---
title: "åˆ†CHUNK"
---

å½“æ‚¨æƒ³è¦å¯¹è§£æç»“æœåˆ†å—ï¼Œåº”ç”¨äºä¸‹æ¸¸RAGç³»ç»Ÿã€æ–‡æ¡£é—®ç­”ã€çŸ¥è¯†åº“æ„å»ºç­‰åœºæ™¯æ—¶ï¼Œæ‚¨å¯ä»¥å‚è€ƒä»¥ä¸‹ç¤ºä¾‹ä»£ç ã€‚

- å‚è€ƒ[å¿«é€Ÿå¯åŠ¨](/xparse/parse-quickstart)ï¼Œé€šè¿‡æ–‡æ¡£è§£æAPIè·å–markdownæ–‡ä»¶

```python
import re
from typing import List

### æ›¿æ¢ä½ çš„ md æ–‡ä»¶
with open("markdown_example.md", "r", encoding="utf-8") as f:
    markdown_text = f.read()

### æ ¹æ®ä½¿ç”¨éœ€è¦æ’å…¥ä¸‹æ–¹ç¤ºä¾‹ä»£ç 
```

### å›ºå®šå¤§å°åˆ†chunkï¼ˆæŒ‰å¥æˆ–å­—ç¬¦ï¼‰

```python
### å›ºå®šå¤§å°åˆ†å—ï¼ˆæŒ‰å¥æˆ–å­—ç¬¦ï¼‰
def fixed_size_chunk(text: str, size: int = 100) -> List[str]:
    return [text[i:i+size] for i in range(0, len(text), size)]

### è¿è¡Œç¤ºä¾‹
print("ğŸ“Œ å›ºå®šå¤§å°åˆ†å—:")
for i, c in enumerate(fixed_size_chunk(markdown_text, 80)):
    print(f"Chunk {i+1}:\n{c}\n")
```

### åŸºäºç»“æ„åˆ†chunkï¼ˆæŒ‰ Markdown æ ‡é¢˜å±‚çº§ï¼‰

```python
### åŸºäºç»“æ„åˆ†å—ï¼ˆæŒ‰ Markdown æ ‡é¢˜å±‚çº§ï¼‰
def structure_based_chunk(text: str) -> List[str]:
    lines = text.strip().split("\n")
    chunks = []
    current_chunk = []
    for line in lines:
        if line.startswith("#"):
            if current_chunk:
                chunks.append("\n".join(current_chunk))
                current_chunk = []
        current_chunk.append(line)
    if current_chunk:
        chunks.append("\n".join(current_chunk))
    return chunks

### è¿è¡Œç¤ºä¾‹
print("ğŸ“Œ åŸºäºç»“æ„åˆ†å—:")
for i, c in enumerate(structure_based_chunk(markdown_text)):
    print(f"Chunk {i+1}:\n{c}\n")
```